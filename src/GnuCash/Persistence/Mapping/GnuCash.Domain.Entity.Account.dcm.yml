GnuCash\Domain\Entity\Account:
  type: entity
  table: accounts
  namedNativeQueries:
    get-visible-account-balance:
      resultSetMapping: mapping-balance
      query: SELECT SUM(value_num::numeric(20,2) / value_denom::numeric(20,2)) AS balance FROM splits WHERE account_guid IN(SELECT guid FROM accounts WHERE parent_guid = ? AND hidden = 0);
  sqlResultSetMappings:
    mapping-balance:
      name: mapping-balance
      columnResult:
        balance:
          name: balance
  id:
    id:
      column: guid
      type: string
  fields:
    name:
    hidden:
      type: integer
  manyToOne:
    parent:
      targetEntity: GnuCash\Domain\Entity\Account
      joinColumn:
        name: parent_guid
        referencedColumnName: guid
  oneToMany:
    children:
      targetEntity: GnuCash\Domain\Entity\Account
      mappedBy: parent
      orderBy:
        name: ASC
    splits:
      targetEntity: GnuCash\Domain\Entity\Split
      mappedBy: account
